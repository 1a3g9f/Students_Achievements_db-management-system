{% extends 'base.html' %}

{% block content %}
<h2>Add New Category</h2>
<form method="post">
    {% csrf_token %}
    <label>Category Name:</label>
    <input type="text" name="name" required>
    <br><br>
    <label>Description:</label>
    <textarea name="description"></textarea>
    <br><br>
    <button type="submit" class="btn btn-success">Save Category</button>
</form>
</form>
    
    <hr>

    <h3>ğŸ“‹ Existing Categories</h3>
    <table border="1" cellpadding="10" cellspacing="0" style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for cat in categories %}
            <tr>
                <td>{{ cat.id }}</td>
                <td><strong>{{ cat.name }}</strong></td>
                <td>{{ cat.description }}</td>
                <td>
                    <a href="{% url 'update_category' pk=cat.id %}" class="btn btn-primary" style="padding: 5px 10px; background: #ffc107; color: black; text-decoration: none; border-radius: 4px;">âœï¸ Edit</a>
                    
                    <a href="{% url 'delete_category' pk=cat.id %}" class="btn btn-danger" style="padding: 5px 10px; background: #dc3545; color: white; text-decoration: none; border-radius: 4px; margin-left: 5px;" onclick="return confirm('Are you sure you want to delete this category?');">ğŸ—‘ï¸ Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">No categories found. Add one above!</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}